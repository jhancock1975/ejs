<! doctype html>
<html>
<head>
</head>
<body>
<style>
  /* Defines a cleaner look for tables */
  table  { border-collapse: collapse; }
  td, th { border: 1px solid black; padding: 3px 8px; }
  th     { text-align: left; }
</style>

<script>
var MOUNTAINS = [
  {name: "Kilimanjaro", height: 5895, country: "Tanzania"},
  {name: "Everest", height: 8848, country: "Nepal"},
  {name: "Mount Fuji", height: 3776, country: "Japan"},
  {name: "Mont Blanc", height: 4808, country: "Italy/France"},
  {name: "Vaalserberg", height: 323, country: "Netherlands"},
  {name: "Denali", height: 6168, country: "United States"},
  {name: "Popocatepetl", height: 5465, country: "Mexico"}
];

if (typeof module != "undefined" && module.exports)
  module.exports = MOUNTAINS;

  function getTableHeader(data){
	var columnNames = new Set();
	data.forEach(function(obj){
		Object.keys(obj).forEach(function(keyName){
			columnNames.add(keyName);
		});
	});
	var tr = document.createElement('TR');
	for (let item of columnNames){
		var th = document.createElement('TH');
		th.innerHTML = item;
		tr.appendChild(th);
	}
	return tr;
  }
  
  function buildTable(data) {	
	
	var tableHeader = getTableHeader(data);
	
	var table = document.createElement('TABLE');
	table.appendChild(tableHeader);
	
	var tr = document.createElement('TR');
	table.appendChild(tr);
	
	var td = document.createElement('TD');
	tr.appendChild(td);
	td.innerHTML='test';
	return table;
	
  }


  document.body.appendChild(buildTable(MOUNTAINS));
</script>
</body>
</html>
